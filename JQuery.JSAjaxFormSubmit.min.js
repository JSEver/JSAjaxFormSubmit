(function(b,d){var c={formAction:null,responseType:"json",requestMethod:"POST",requestTimeout:20000,submitMsg:"Submitting form...",beforesend:function(e){},always:function(e){},done:function(e,f){},fail:function(e){},progress:function(f,e){},complete:function(e,f){},success:function(e){},error:function(e){},hideFormOnSuccess:false,clearFormFields:false};b.fn.JSAjaxFormSubmit=function(f){var g=b.extend({},c,f);var e='<div class="JSsendingMsg" style="width: 40%;margin-left: 30%;margin-bottom: 10px;text-align: center;padding: 0px 5px;border: 1px solid rgb(128, 200, 230);border-radius: 15px;background: rgb(94, 159, 243);color: #fff;font-size: 12px;">'+g.submitMsg+"</div>";var h=this;this.onSubmit=function(i,l){b("div.JSsending",i).html(e);var k=b(i).JSFormToJson();if(g.formAction==null||g.formAction==d||g.formAction.trim()==""){g.formAction=b(i).attr("action")}var j=b.ajax({url:g.formAction,type:g.requestMethod,data:k,timeout:g.requestTimeout,beforeSend:function(){if(a(g.beforesend)){g.beforesend(k)}},success:function(m){if(g.hideFormOnSuccess){b(i).slideUp(500)}if(g.clearFormFields){b(i).JSClearForm()}if(a(g.onSuccess)){g.onSuccess(m)}},error:function(n,o,m){if(a(g.onError)){g.onError(n,o,m)}}});if(a(g.always)){j.always(function(){g.always(k)})}if(a(g.complete)){j.complete(function(){b("div.JSsending div.JSsendingMsg",i).hide(500);g.complete(k,j)})}if(a(g.done)){j.done(function(){g.done(k,j)})}if(a(g.fail)){j.fail(function(){g.fail(k,j)})}};return this.each(function(){if(!b(this).is("form")){return}b(this).prepend('<div class="JSsending"></div>');b(this).submit(function(i){i.preventDefault();h.onSubmit(this,i)})})};b.fn.JSFormToJson=function(){var e={};var f=this.serializeArray();b.each(f,function(){if(e[this.name]!==d){if(!e[this.name].push){e[this.name]=[e[this.name]]}e[this.name].push(this.value||"")}else{e[this.name]=this.value||""}});return e};b.fn.JSClearForm=function(){b('input[type="text"], input[type="password"], input[type="file"], textarea',this).val("");b('input[type="checkbox"]',this).prop("checked",false);b("select option:first-child",this).prop("selected",true)};var a=function(e){return(e!==d&&e!==null&&typeof e==="function")}})(jQuery);